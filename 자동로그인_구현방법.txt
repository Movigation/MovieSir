================================================================================
ìë™ ë¡œê·¸ì¸ (ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€) ê¸°ëŠ¥ êµ¬í˜„ ê°€ì´ë“œ
================================================================================

ğŸ“Œ ê°œìš”
- ë¡œê·¸ì¸ í¼ì— "ìë™ ë¡œê·¸ì¸" ì²´í¬ë°•ìŠ¤ ì¶”ê°€
- ì²´í¬ ì—¬ë¶€ì— ë”°ë¼ ì¿ í‚¤ ë§Œë£Œ ì‹œê°„ì„ ë‹¤ë¥´ê²Œ ì„¤ì •
- âœ… ë°ì´í„°ë² ì´ìŠ¤ ë³€ê²½ ë¶ˆí•„ìš”

================================================================================
1. ë°±ì—”ë“œ ìˆ˜ì • (backend/domains/auth/)
================================================================================

[1-1] schemas.py - LoginRequestì— í•„ë“œ ì¶”ê°€
----------------------------------------
class LoginRequest(BaseModel):
    email: str
    password: str
    remember_me: bool = False  # ê¸°ë³¸ê°’: ìë™ ë¡œê·¸ì¸ ì•ˆ í•¨


[1-2] router.py - login í•¨ìˆ˜ ìˆ˜ì •
----------------------------------------
@router.post("/login", response_model=LoginResponse)
def login(
    request: LoginRequest,  # remember_me í•„ë“œ í¬í•¨ë¨
    response: Response,
    db: Session = Depends(get_db),
):
    # ... (ê¸°ì¡´ ì¸ì¦ ë¡œì§ ìœ ì§€) ...
    
    # access_token ìƒì„±
    access_token = create_access_token(...)
    refresh_token = create_access_token(...)
    
    # ğŸ”¹ ì¡°ê±´ì— ë”°ë¼ ì¿ í‚¤ ë§Œë£Œ ì‹œê°„ ì„¤ì •
    if request.remember_me:
        access_max_age = 604800      # 7ì¼ (ìë™ ë¡œê·¸ì¸)
        refresh_max_age = 2592000    # 30ì¼
    else:
        access_max_age = 1800        # 30ë¶„ (ì¼ë°˜ ë¡œê·¸ì¸)
        refresh_max_age = 1800       # 30ë¶„
    
    # ì¿ í‚¤ ì„¤ì •
    response.set_cookie(
        key="access_token",
        value=access_token,
        httponly=True,
        secure=COOKIE_SECURE,
        samesite=COOKIE_SAMESITE,
        max_age=access_max_age,      # ğŸ”¹ ë™ì ìœ¼ë¡œ ì„¤ì •
        path="/",
    )
    
    response.set_cookie(
        key="refresh_token",
        value=refresh_token,
        httponly=True,
        secure=COOKIE_SECURE,
        samesite=COOKIE_SAMESITE,
        max_age=refresh_max_age,     # ğŸ”¹ ë™ì ìœ¼ë¡œ ì„¤ì •
        path="/",
    )
    
    return LoginResponse(user=user_response)


================================================================================
2. í”„ë¡ íŠ¸ì—”ë“œ ìˆ˜ì • (frontend/src/)
================================================================================

[2-1] ë¡œê·¸ì¸ í¼ì— ì²´í¬ë°•ìŠ¤ ì¶”ê°€
----------------------------------------
ë¡œê·¸ì¸ ëª¨ë‹¬/í˜ì´ì§€ì— ì²´í¬ë°•ìŠ¤ ì»´í¬ë„ŒíŠ¸ ì¶”ê°€:

<input
  type="checkbox"
  id="rememberMe"
  checked={rememberMe}
  onChange={(e) => setRememberMe(e.target.checked)}
/>
<label htmlFor="rememberMe">ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€</label>


[2-2] API ìš”ì²­ ìˆ˜ì • (authApi.ts)
----------------------------------------
export const login = async (email: string, password: string, rememberMe: boolean) => {
  const response = await axios.post("/api/auth/login", {
    email,
    password,
    remember_me: rememberMe,  // ğŸ”¹ ì¶”ê°€
  });
  return response.data;
};


[2-3] ë¡œê·¸ì¸ ì»´í¬ë„ŒíŠ¸ì—ì„œ í˜¸ì¶œ
----------------------------------------
const handleLogin = async () => {
  try {
    await login(email, password, rememberMe);  // ğŸ”¹ rememberMe ì „ë‹¬
    // ...
  } catch (error) {
    // ...
  }
};


================================================================================
3. ê¶Œì¥ ì„¤ì •ê°’ (í˜„ì¬ êµ¬í˜„ëœ ë‚´ìš©)
================================================================================

ìë™ ë¡œê·¸ì¸ ì²´í¬ ì‹œ:
  - Access Token JWT: 24ì‹œê°„ ë§Œë£Œ
  - Refresh Token JWT: 24ì‹œê°„ ë§Œë£Œ
  - Access Token ì¿ í‚¤: 24ì‹œê°„ (86400ì´ˆ)
  - Refresh Token ì¿ í‚¤: 24ì‹œê°„ (86400ì´ˆ)
  â†’ ë¸Œë¼ìš°ì € ë‹«ë“  ì•ˆ ë‹«ë“  24ì‹œê°„ ìœ ì§€

ìë™ ë¡œê·¸ì¸ ë¯¸ì²´í¬ ì‹œ:
  - Access Token JWT: 24ì‹œê°„ ë§Œë£Œ
  - Refresh Token JWT: 24ì‹œê°„ ë§Œë£Œ  
  - Access Token ì¿ í‚¤: max_age None (ì„¸ì…˜ ì¿ í‚¤)
  - Refresh Token ì¿ í‚¤: max_age None (ì„¸ì…˜ ì¿ í‚¤)
  â†’ ë¸Œë¼ìš°ì € ë‹«ìœ¼ë©´ ì¦‰ì‹œ ë¡œê·¸ì•„ì›ƒ, ì•ˆ ë‹«ì•„ë„ 24ì‹œê°„ í›„ ë¡œê·¸ì•„ì›ƒ



================================================================================
4. ì°¸ê³ ì‚¬í•­
================================================================================

âœ… ì¥ì :
  - DB ìŠ¤í‚¤ë§ˆ ë³€ê²½ ë¶ˆí•„ìš”
  - ê°„ë‹¨í•œ êµ¬í˜„
  - ì‚¬ìš©ìê°€ ì§ì ‘ ì„ íƒ ê°€ëŠ¥

âš ï¸ ì£¼ì˜ì‚¬í•­:
  - ê³µìš© PC ì‚¬ìš© ì‹œ ë³´ì•ˆ ìœ„í—˜ â†’ UIì— ê²½ê³  ë¬¸êµ¬ ì¶”ê°€ ê¶Œì¥
  - ì²´í¬ë°•ìŠ¤ ê¸°ë³¸ê°’ì€ falseë¡œ ì„¤ì • (ë³´ì•ˆìƒ ì•ˆì „)

ğŸ“ ì¶”ê°€ ê°œì„  ë°©í–¥:
  - "ì´ ê¸°ê¸°ì—ì„œ ìë™ ë¡œê·¸ì¸" ê°™ì€ ëª…í™•í•œ ë¼ë²¨ ì‚¬ìš©
  - ê³µìš© PCì¼ ê²½ìš° ì²´í¬ í•´ì œ ì•ˆë‚´ ë©”ì‹œì§€
